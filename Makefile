CXX=g++
XLOGINXX=213334

OBJ=bms.cpp
BIN=bms

CXXFLAGS:=-Wall -Werror -Wextra -pedantic -std=c++2a

all: bms

run:
	./bms
clean:
	rm bms
bms: $(OBJ)
	$(CXX) $(CXXFLAGS) $(OBJ) -o $(BIN)
pack:
	zip $(XLOGINXX).zip *.cpp  Makefile
test-encode: all
	./bms -e -n 5 -t "abc"
test-encode2: all
	./bms -e -n 6 -t "bms"
test-encode3: all
	./bms -e -n 20 -t "Hello, world!"
test-encode4: all
	./bms -e -n 32 -t "Bezdratove a mobilni site"
test-decode: all
	./bms -d -n 5 -k 3 -m 0110000101100010011000110111100001011111
test-decode2: all
	./bms -d -n 6 -k 3 -m 011000100110110101110011001100000110110001111100
test-decode3: all
	./bms -d -n 20 -k 13 -m 0100100001100101011011000110110001101111001011000010000001110111011011110111001001101100011001000010000110001101000100111111010011111001010000110001000011100101
test-decode4: all
	./bms -d -n 6 -k 3 -m 000000100110110101110011001100000110110001111100
test-decode5: all
	./bms -d -n 32 -k 25 -m 0000000001000101011100100110010001110010011000010111010001101111011101100110010100100000011000010010000001101101011011110110001001101001011011000110111001101001001000000111001101101001011101000110010101000001100011101110100101101110011010100001110010011110
test-decode6: all
	./bms -d -n 32 -k 25 -m 0100001001100101011110100110010001110010011000010111010001101111011101100110010100100000011000010010000001101101011011110110001001101001011011000110111001101001001000000111001101101001011101000110010101000001100011101110100101101110011010100001110010011110
test-decode7: all
	./bms -d -n 20 -k 13 -m 0000000000000000000000000110110001101111001011000010000001110111011011110111001001101100011001000010000110001101000100111111010011111001010000110001000011100101